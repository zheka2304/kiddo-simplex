<font color="black">
Этот скрипт нужно писать на языке Python. Если тебе незнакомы основы языка или тебе нужно освежить память, используй <a href="https://docs.python.org/3/tutorial/index.html" target="_blank" rel="nofollow">эту ссылку</a>.

В зависимости от задачи, уровень может генерироваться по-разному. При нажатии на кнопку "Перегенерировать уровень" получаются разные варианты первоначальных условий. Иногда уровень будет постоянным.

Для управления игроком необходимо импортировать модуль `player`.

```
import player
```

## Перемещение игрока

Для передвижения игрока используются команды "вперед", "налево", "направо" и "ждать":
    
- `player.move()` — перемещает игрока в направлении взгляда на 1 клетку. 
  Можно передать количество клеток, на которое игроку нужно переместиться, 
  например `player.move(3)`. На каждую клетку тратит 1 ход. Если игрок упрется в препятствие во время выполнения, то остановится и пропустит 1 ход. 
  Данный метод возвращает целое число — количество пройденных клеток.
- `player.right()` и `player.left()` — поворачивают игрока на 90 градусов направо или налево соответственно, тратит 1 ход.
- `player.wait()` — пропускает 1 ход, также данному методу можно передать количество ходов, которые надо пропустить.

**Примеры использования:**
- Пройти 2 клетки вперед и 1 клетку направо:
  ```
  player.move(2)
  player.right()
  player.move()
  ```
- Повторить 4 раза: пройти вперед и повернуть направо (игрок пройдет по квадрату вернувшись в исходное положение):
  ```
  for i in range(4):
      player.move()
      player.right()
  ```

## Взаимодействие

С некоторыми объектами в игре можно взаимодействовать, результат взаимодействия может быть какой угодно и описан в условии задачи. 

- `player.interact()` — взаимодействует с объектом в клетке прямо перед игроком. 
  В случае успешного взаимодействия вернет `True`, иначе `False`. 
  Место взаимодействия выделяется синим маркером. 
  Метод также может принимать *относительные координаты* клетки, с которой требуется взаимодействовать, 
  например `player.interact(0, 0)` — взаимодействует с клеткой под собой. Максимальная дальность взаимодействия по умолчанию составляет 1 клетку.


## Консоль

Во многих заданиях есть объекты, которые при взаимодействии с ними открывают консоль.
Пока она открыта, с ней позволяет взаимодействовать модуль `console`.

```
import console
```

У консоли есть ввод и вывод, на вход подаются какие-то значения, которые можно
прочитать, а в вывод они записываются игроком. Что именно подается на вход
и требуется записать в вывод, описано в условии задачи.

- `console.read()` — тратит 1 ход, читает и возвращает следующее значение из ввода консоли. 
  Если больше значений на входе нет, возвращает `None`.


- `console.has_more()` — проверяет, остались ли еще значения 
  на входе консоли, если они есть, возвращает `True`, иначе `False`.


- `console.write(value)` — тратит 1 ход, записывает данное значение в вывод консоли.


- `console.close()` — закрывает консоль.

**Примеры работы с консолью:**

- Прочитать все доступные значения из консоли в массив
  ```
  console_input = []
  while console.has_more():
    console_input.append(console.read())
  ```

- Записать значения из массива в консоль
  ```
  for value in console_input:
    console.write(value)
  console.close()
  ```
  

## Относительные координаты

Все методы, которые позволяют получать данные и взаимодействовать с миром, используют единую систему координат.
Позиция игрока принимается за `0, 0`, первое число отвечает за количество клеток вправо, второе — за количество клеток вперед.
Таким образом `0, 1` — это клетка перед игроком, `0, -1` — за игроком, `1, 0` — справа от игрока и т. д. 


## Теги

Каждая клетка или игровой объект может иметь набор *тегов* — строк, 
которые описывают свойства объектов. Например, у стен будет тег `obstacle` — препятствие, у флага финиша — `goal` и т. д. 

Это нужно, чтобы при прохождении программа могла получать данные о том, что его окружает и принимать соответствующие решения.
Теги, которые будут важны для прохождения, будут описаны в условиях задачи.


## Получение информации

- `player.inspect()` — тратит 1 ход, возвращает список всех тегов в клетке, где находится игрок. Может принимать 
  относительные координаты, например `player.inspect(0, 1)` — получит теги в клетке перед игроком. 
  Клетка, на которую был вызван данный метод, будет помечена красным маркером. 
  <br><br>**Примеры использования:**
  - Проверка того, что перед игроком препятствие. 
    ```
    if 'obstacle' in player.inspect():
        # что-то сделать
    ```
  - Пока под игроком нет флага финиша — идти вперед.
    ```
    while 'goal' not in player.inspect(0, 0):
        player.move()
    ```
 
- `player.find(tag)` — тратит 1 ход, ищет ближайшую клетку, которая имеет переданный тег,
  возвращает массив с относительными координатами этой клетки (например `[0, 2]`) или `None`, если ничего не найдено. 
  Найденная клетка выделяется красным маркером. 
  <br><br>**Примеры использования:**
  - Проверить, что рядом с игроком нет врагов (тег `deadly`):
    ```
    if player.find('deadly') is None:
      # что-то сделать
    ```
  - Найти ближайшую клетку с флагом финиша `goal` и дойти до нее:
    ```
    # найти финиш и проверить, что он найден
    goal = player.find('goal')
    if goal is not None:
      # цель правее - повернуть направо, 
      # пройти нужное расстояние, повернуть налево
      if goal[0] > 0:
        player.right()
        player.move(goal[0])
        player.left()
      # цель левее - повернуть налево, 
      # пройти нужное расстояние, повернуть направо
      elif goal[0] < 0:
        player.left()
        # goal[0] отрицательное - инвертировать знак
        player.move(-goal[0])  
        player.right()
    
      # цель впереди - пройти вперед нужное расстояние
      if goal[1] > 0:
        player.move(goal[1])
      # цель сзади - развернуться и пройти нужное расстояние
      elif goal[1] < 0:
        player.right()
        player.right()
        player.move(-goal[1])
    ```
    
- `player.find_all(tag)` — работает так же, как `player.find(tag)`, 
  но возвращает массив всех видимых клеток с данным тегом (и пустой массив, если таких нет). 
  Клетки отсортированы от ближайшей к самой дальней. 
  <br><br>**Примеры использования:**
  - Найти клетку, которая имеет тег `target` (цель), но не имеет тег `item` (предмет)
    ```
    # переменная с нужной клеткой
    valid_target = None
    
    # перебрать все клетки с тегом 'target'
    for target in player.find_all('target'):
      # если в данной клетке нет тега 'item', 
      # сохранить в переменную и выйти
      if 'item' not in player.inspect(target[0], target[1]):
        valid_target = target
        break  
    ```
  
## Предметы и инвентарь

Игрок может подбирать и перемещать некоторые игровые объекты, которые являются предметами.
Эти игровые объекты оговорены в условиях задачи, а также всегда имеют тег `item`. 

- `player.pickup(tag)` — тратит 1 ход, находит предмет с данным тегом в клетке, 
  в которой находится игрок и перемещает его в инвентарь. 
  Метод дополнительно может принимать относительные координаты клетки, из которой нужно взять предмет, например
  `player.pickup('item', 0, 1)` подберет предмет перед игроком. Клетка, на которую использован 
  данный метод, выделяется желтым маркером.
  

- `player.place(tag)` — противоположное действие `player.pickup`, находит предмет с данным тегом в инвентаре
  и перемещает его на поле в клетку, где находится игрок. Точно также позволяет дополнительно передавать клетку, куда надо положить предмет.
  

- `player.has_item(tag)` — возвращает `True`, если в инвентаре есть предмет с данным тегом, иначе `False`. 

**Примеры использования:**
- Взять предмет с тегом `target` под игроком и переместить его на 10 шагов вперед:
  ```
  player.pickup('target')
  player.move(10)
  player.place('target')
  ```

</font>